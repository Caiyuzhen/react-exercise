import "./App.css"
import React, { createContext } from 'react' //å¯¼å…¥ createContext æ–¹æ³•


//âš¡ï¸âš¡ï¸âš¡ï¸ ç»„ä»¶é€šä¿¡(è®©ç»„ä»¶å†…çš„æ•°æ® state è¿›è¡Œå¯ä»¥è¿›è¡Œæµè½¬)
//ğŸ è·¨ï¼ˆå¤šï¼‰å±‚ä¼ é€’ App -> ComA -> ComC ğŸ”¥ğŸ”¥å‰ææ˜¯è¦æœ‰ä¸Šä¸‹å±‚çš„ã€ç»“æ„å…³ç³»ã€‘ï¼ï¼ï¼
  //ğŸŒŸ HOW? 
    //ğŸŒŸProvider æä¾›æ•°æ®
    //ğŸŒŸConsumer æ¶ˆè´¹æ•°æ®   

        //1.å¯¼å…¥ createContext æ–¹æ³•
            //import React, { createContext } from 'react'


        //2.åˆ›å»º Context å¯¹è±¡ (è§£æ„èµ‹å€¼)
            //const { Provider,Consumer } = createContext()


        //3.ä½¿ç”¨ Provider åŒ…è£¹æ ¹ç»„ä»¶æä¾›çš„æ•°æ® ï¼Œvalue ã€ä¹Ÿå¯ä»¥ã€‘ä½œä¸ºã€å‡½æ•°çš„å‚æ•°ã€‘ï¼Œæ¯”å¦‚ {value=>æ¶ˆè´¹æ•°æ®}
            //<Provider value={this.state.message} />


        //4.éœ€è¦ç”¨åˆ°æ•°æ®çš„ç»„ä»¶ç”¨ Consumer æ¥è·å–æ•°æ®,value åˆ™æ˜¯åŒ…è£¹å¥½çš„æ•°æ®, ç®­å¤´å‡½æ•°çš„æ ¼å¼æ˜¯å›ºå®šçš„
            //<Consumer {value => <div> {value} </div>}/>






//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

//2.ğŸ”¥åˆ›å»ºã€ Context å¯¹è±¡ ã€‘(è§£æ„èµ‹å€¼,å°†ã€å±æ€§/å€¼ã€‘ä»ã€å¯¹è±¡/æ•°ç»„ã€‘ä¸­æå–å‡ºæ¥å¹¶ã€è¿›è¡Œèµ‹å€¼ã€‘)
const { Provider, Consumer } = createContext()


//ğŸç±»ç»„ä»¶ Father
class Father extends React.Component {

  state = {
    message: "æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„æ•°æ®"
  }

  render(){
    return(
      // 3.ä½¿ç”¨ Provider åŒ…è£¹æ ¹ç»„ä»¶æä¾›çš„æ•°æ® ğŸ”¥ğŸ”¥ğŸ”¥//æ³¨æ„ï¼šéœ€è¦ç”¨ã€ value ã€‘ç»‘å®šä¸€ä¸‹æˆ‘ä»¬ã€ğŸŒŸ å°†è¦ä¼ é€’çš„æ•°æ®ã€‘ï¼ï¼
      <Provider value={this.state.message}> 
        <div>
          <ComA />
        </div>
      </Provider>
    )
  }

};

//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”



//å­ç»„ä»¶
function ComA (){ 
  return(
    <div>è¿™æ˜¯ç»„ä»¶A
      <ComC/>
    </div>
  )
}


//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”


//å­ç»„ä»¶
function ComC (){ 
  return(
    <div>è¿™æ˜¯ç»„ä»¶C
      <Consumer>
      {/* 4.éœ€è¦ç”¨åˆ°æ•°æ®çš„ç»„ä»¶ç”¨ Consumer æ¥è·å–æ•°æ®,ã€ğŸŒŸ value åˆ™æ˜¯åŒ…è£¹å¥½çš„æ•°æ®ã€‘, ç®­å¤´å‡½æ•°çš„æ ¼å¼æ˜¯å›ºå®šçš„ */}
        {value => <span> {value} </span>} 
      </Consumer>
    </div>
  )
}


//æœ€åéœ€è¦ export ä¸€ä¸‹ï¼
export default Father


