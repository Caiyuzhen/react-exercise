import "./App.css"
import React from 'react' 
//å¼•å…¥ ReactDOMï¼Œ ç›®çš„æ˜¯ä¸ºäº†ä½¿ç”¨ ReactDOM çš„æ–¹æ³•



//ğŸš€ ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ(ğŸŒŸåªæœ‰ç±»ç»„ä»¶æ‰æœ‰ç”Ÿå‘½å‘¨æœŸ,åœ¨å®ä¾‹åŒ–çš„æ—¶å€™æ‰ä¼šå‡ºç°ç”Ÿå‘½å‘¨æœŸ)

    //ğŸ WHAT?
      //ã€ğŸŒŸ æŒ‚è½½é˜¶æ®µã€‘
          //é’©å­å‡½æ•°é¡ºåº: 
            //1.construction       ï¼ˆåˆå§‹åŒ–æ•°æ®,åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥ç”¨æ¥åˆ›å»º Refã€ä½¿ç”¨ bind ç»“å±€ this æŒ‡å‘é—®é¢˜ç­‰ï¼‰ => 
            //2.render             ï¼ˆæ¸²æŸ“ UI, æ¯æ¬¡ç»„ä»¶æ‰§è¡Œéƒ½ä¼šè§¦å‘, æ³¨æ„ä¸èƒ½åœ¨é‡Œè¾¹è°ƒç”¨ setState() ï¼ï¼‰ => 
            //3.componentDidMount   (ç»„ä»¶æŒ‚è½½å®Œæ¯•åæ‰ä¼šæ‰§è¡Œï¼Œå¯ä»¥ç”¨æ¥å‘é€ç½‘ç»œè¯·æ±‚ï¼Œæˆ–è€…æ“ä½œ DOM)

      //ã€ğŸŒŸ æ›´æ–°é˜¶æ®µã€‘
          //é’©å­å‡½æ•°é¡ºåº: 
            //1.render              (æ¸²æŸ“ UI,ä¸æŒ‚è½½é˜¶æ®µæ˜¯åŒä¸€ä¸ª render)
            //2.componentDidUpdate ï¼ˆDOM æ“ä½œï¼Œå¯ä»¥è·å–åˆ°æ›´æ–°åçš„ DOM å†…å®¹ï¼Œæ³¨æ„ä¸èƒ½åœ¨é‡Œè¾¹è°ƒç”¨ setState() ï¼ï¼‰



      //ã€ğŸŒŸ å¸è½½(é”€æ¯)é˜¶æ®µã€‘
          //é’©å­å‡½æ•°é¡ºåº: 
            //1.componentWillUnmount ï¼ˆç»„ä»¶å¸è½½å‰æ‰§è¡Œ, ä¸€èˆ¬éƒ½æ˜¯ç”¨æ¥æ¸…ç†å®šæ—¶å™¨ï¼‰




    //ğŸ æ³¨æ„
      //constructionã€render é˜¶æ®µä¸èƒ½å‘é€ ajax è¯·æ±‚æˆ–è€…ä¿®æ”¹ DOMï¼Œå¦åˆ™ä¼šå¼•å‘é‡å¤æ¸²æŸ“ï¼›Commit é˜¶æ®µæ‰å¯ä»¥ï¼


//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”


//ğŸ ç±»ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ
class App extends React.Component {

    state = {
      count: 0,
      flag: true //true,æ˜¾ç¤º Test ç»„ä»¶ï¼Œ false ä¸æ˜¾ç¤º Test ç»„ä»¶
    }


    clickCountAdd = () =>{
      this.setState({
        count: this.state.count +1,
        flag: !this.state.flag //å–åï¼Œç±»ä¼¼å¼€å…³
      })
    }


    constructor() { //1.ã€æŒ‚è½½é˜¶æ®µã€‘å…ˆæ‰§è¡Œ
      super();
      console.log('æŒ‚è½½é˜¶æ®µ-1:constructor');
    }


    componentDidMount() { //3.ã€æŒ‚è½½é˜¶æ®µã€‘æœ€åæ‰§è¡Œ
      console.log('æŒ‚è½½é˜¶æ®µ-3:componentDidMount'); 
      //åœ¨è¿™ä¸ªé˜¶æ®µå‘é€ ajax è¯·æ±‚ ...
    }


    componentDidUpdate () { //4.ã€æ›´æ–°é˜¶æ®µã€‘
      console.log('æ›´æ–°é˜¶æ®µ-4:componentDidUpdate'); 

      const div = document.querySelector('.div');
      console.log(div); 
      div.innerHTML = 'æˆ‘æ˜¯æ›´æ–°åçš„å†…å®¹';
    }



    render() { //2.ã€æŒ‚è½½é˜¶æ®µã€‘å†æ‰§è¡Œ
      console.log('æ›´æ–°/æŒ‚è½½é˜¶æ®µ-2:render')
      return (
        <div>
          <div className="div">æˆ‘æ˜¯é»˜è®¤çš„å†…å®¹</div>
          å¢åŠ 
          <button onClick={this.clickCountAdd}>
            {this.state.count}
          </button>

          {/* //6.ç”¨ä¸€ä¸ªåŠ¨ä½œæ¥åˆ¤æ–­ä»€ä¹ˆæ—¶å€™æ‰§è¡Œã€å¸è½½(é”€æ¯)é˜¶æ®µã€‘,å¦‚æœè¿™ä¸ªå‡½æ•°ä¸æ‰§è¡Œï¼Œå°±åˆ°å¸è½½é˜¶æ®µ */}
          {this.state.flag ? <Test /> : null} 
        </div>
      )
    }
}


//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”


class Test extends React.Component {

  //ğŸŒŸ å¦‚æœè¦ç”¨åˆ°çš„æ•°æ®æ˜¯ç»„ä»¶çš„çŠ¶æ€ï¼Œè¦å½±å“è§†å›¾ï¼Œæ‰å®šä¹‰åˆ° state å†…
  //ğŸŒŸ å¦‚æœè¦ç”¨åˆ°çš„æ•°æ®è·Ÿè§†å›¾ä¸ç›¸å…³ï¼Œåˆ™ä¸ç”¨å®šä¹‰åˆ° state å†…ï¼Œç›´æ¥å®šä¹‰åœ¨ç»„ä»¶å†…å°±è¡Œäº†
  timer = null
  
  componentDidMount() { //7.é…åˆç€ä¸­ï¼Œåœ¨ç»„ä»¶ã€æŒ‚è½½é˜¶æ®µã€‘å¼€å¯å®šæ—¶å™¨,ç„¶ååœ¨ã€å¸è½½(é”€æ¯)é˜¶æ®µã€‘è¿›è¡Œæ¸…é™¤
    this.timer = setInterval(() =>{
      console.log("å¼€å¯å®šæ—¶å™¨");
    },1000)
  }


  componentWillUnmount () {//5.ã€å¸è½½(é”€æ¯)é˜¶æ®µã€‘,ä¸€èˆ¬éƒ½æ˜¯ç”¨æ¥æ¸…ç†å®šæ—¶å™¨
    console.log('é”€æ¯é˜¶æ®µ-5:componentWillUnmount');//å¸è½½çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œ

    clearInterval(this.timer); //ã€ğŸŒŸä¸€èˆ¬åœ¨è¿™ä¸ªé˜¶æ®µæ¸…ç†å®šæ—¶å™¨ã€‘åœ¨ APP å†…ç‚¹å‡»åï¼Œè§¦å‘å¼€å¯æ¸…ç†å®šæ—¶å™¨çš„å‡½æ•°
  }


  render() {
    return (
      <div>éœ€è¦é”€æ¯çš„å‡½æ•°</div>
    );
  }
}



// //æœ€åéœ€è¦ export ä¸€ä¸‹ï¼
export default App


