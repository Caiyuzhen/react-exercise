import "./App.css"
import React from 'react' 
//1.ä» react ä¸­å¯¼å…¥ useState,useEffect å‡½æ•°
import {useState,useEffect} from 'react'


//ğŸš€ Hooks - useEffect (å‰¯ä½œç”¨å‡½æ•°åŠå…¶ä¾èµ–é¡¹)

    //Why?
      //ä¸å†™ class çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹Ÿèƒ½å¤Ÿå®Œæˆä¸šåŠ¡ä»£ç 

    //Whatï¼Ÿ 
      //æ¯”å¦‚å‡½æ•°å†…ä¼šä¿®æ”¹å…¨å±€çš„å˜é‡, å®é™…ä¾‹å­:
        //1.å‘é€ ajax è¯·æ±‚
        //2.æ‰‹åŠ¨ä¿®æ”¹ DOM
        //3.localStorage æ“ä½œ(æœ¬åœ°å­˜å‚¨)
    

    //How?
      //ä½¿ç”¨æ­¥éª¤ ğŸŒŸ
        //1.å¯¼å…¥ useEffect å‡½æ•°
        //2.åœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œ useEffect,ä¼ å…¥å›è°ƒå¹¶å®šä¹‰å‰¯ä½œç”¨
        //3.å½“é€šè¿‡ä¿®æ”¹çŠ¶æ€æ›´æ–°ç»„ä»¶æ—¶ï¼Œå‰¯ä½œç”¨ä¹Ÿä¼šä¸æ–­çš„æ‰§è¡Œ


    //ğŸ”¥é€šè¿‡ä¾èµ–é¡¹æ¥æ§åˆ¶å‰¯ä½œç”¨çš„æ‰§è¡Œæ—¶æœº
      //ä½¿ç”¨æ­¥éª¤ ğŸŒŸ
        //1.é»˜è®¤çŠ¶æ€ä¸ºã€æ²¡æœ‰ä¾èµ–é¡¹ã€‘ï¼Œæ‰€ä»¥å‰¯ä½œç”¨ä¼šåœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”æ¯æ¬¡ä¿®æ”¹æ•°æ®çš„æ—¶å€™ç»„ä»¶æ›´æ–°åæ‰ä¼šã€å†æ¬¡æ‰§è¡Œã€‘
        //2.å½“æœ‰ä¾èµ–é¡¹æ—¶ï¼ˆğŸŒŸåœ¨æœ«å°¾ä¼ å…¥ç©ºæ•°ç»„ï¼‰ï¼Œå‰¯ä½œç”¨å°±ã€åªæ‰§è¡Œä¸€æ¬¡ï¼ã€‘,æ‰€ä»¥å¯ä»¥ç”¨æ¥å‘é€ ajax è¯·æ±‚
            //å½“ã€ğŸŒŸä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–ã€‘æ—¶ï¼Œå‰¯ä½œç”¨æ‰ä¼šæ‰§è¡Œï¼ï¼



//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”





function App() {
  //ğŸ‘‡ç›¸å½“äºä»ã€setStateçš„æ•°ç»„ä¸­ã€‘è§£æ„å‡ºã€æ•°å­—ã€æ–¹æ³•ã€‘
  const [count,setCount] = useState(0)//2.æ‰§è¡Œ useState å‡½æ•°å¹¶ä¼ å…¥åˆå§‹å€¼ï¼ˆåˆå§‹å€¼å¿…é¡»åœ¨å‡½æ•°ç»„ä»¶ä¸­ï¼‰  3.ä»å‡½æ•°çš„æ‰§è¡Œç»“æœä¸­è§£æ„å‡º [æ•°æ®ï¼Œä¿®æ”¹æ•°æ®çš„æ–¹æ³•]
  const [name,setName] = useState('Kim')


  
  useEffect(()=>{ //å‰¯ä½œç”¨å‡½æ•° 1

    //2.åœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œ useEffect,ä¼ å…¥å›è°ƒå¹¶å®šä¹‰å‰¯ä½œç”¨
    
    //ä¿®æ”¹ h1 æ ‡ç­¾
    document.querySelector('h1').innerHTML = count
    //ä¿®æ”¹é¡µé¢é¡¶éƒ¨çš„æ–‡æ¡£åå­—
    document.title = count
    //ç‚¹å‡»ä¿®æ”¹é¡µé¢é¢œè‰²
    document.body.style.backgroundColor = `rgb(${count*4},${count*2},${count*6})`
    //ç‚¹å‡»ä¿®æ”¹æ ‡é¢˜é¢œè‰²
    document.querySelector('h1').style.color = `rgb(${count*120},${count*20},${count*20})`

    console.log("æ— ä¾èµ–é¡¹çš„å‰¯ä½œç”¨");
  })


  useEffect(()=>{ //å‰¯ä½œç”¨å‡½æ•° 2

    document.querySelector('h2').innerHTML = name
    
    console.log("æœ‰ä¾èµ–é¡¹çš„å‰¯ä½œç”¨");
  },[count])//ğŸ‘ˆæ·»åŠ ä¾èµ–é¡¹, å½“ count ä¿®æ”¹æ—¶ name æ‰ä¼šå˜ï¼ï¼,æ·»åŠ ä¸¤ä¸ªå‚æ•°çš„è¯å°±æ˜¯ [count,name]ï¼Œé‚£å°±æ˜¯æˆ–çš„å…³ç³»ï¼Œcount æˆ– name ä¿®æ”¹éƒ½ä¼šæ‰§è¡Œ hook å‡½æ•°





  return(
    <div>
      <h1
        style={{color:'white'}}>å•¦å•¦</h1>
      <h2
        style={{color:'white'}}>å§“å</h2>
      {/* jsx å†…ä¸èƒ½å†™ä¸º ++ */}
      <br />
        <button onClick = {() => setCount(count+1)}> ç‚¹å‡» + {count}  </button>
        <button onClick = {() => setName('Jimmy')}> ä¿®æ”¹ + {name}  </button>
      <br />
    </div>
  )
}




// //æœ€åéœ€è¦ export ä¸€ä¸‹ï¼
export default App


